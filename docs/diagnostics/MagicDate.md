# Магические даты (MagicDate)

<!-- Блоки выше заполняются автоматически, не трогать -->
## Описание диагностики
Магическая дата - это любая дата в вашем коде, которая не очевидна без погружения в контекст.

## Примеры

Плохо

```bsl
Если текДата < '20151021' Тогда
    ХоверБордБудетИзобретен = Неопределено;
КонецЕсли;
``` 

Хорошо

```bsl
ПредсказаннаяДата = '20151021'; 
Если текДата < ПредсказаннаяДата Тогда
    ХоверБордБудетИзобретен = Неопределено;
КонецЕсли;
```

Также хорошим решением является использование специального метода с говорящим названием, который возвращает
дату-константу

```bsl
Функция ДатаИзобретенияХовера()
    Возврат '20151021';
КонецФункции

Если текДата < ДатаИзобретенияХовера() Тогда
    ХоверБордБудетИзобретен = Неопределено;
КонецЕсли;
```

## Исключения

Магические даты, используемые в структурах и соответствиях, не считаются ошибками, так как они используются в качестве ключей или значений в структурах данных, где контекст понятен:

```bsl
// Операция Вставить структуры - нет ошибки
Структура = Новый Структура;
Структура.Вставить("ДатаНачала", '20250101'); // Нет ошибки
Структура.Вставить("ДатаОкончания", '20251231'); // Нет ошибки
Структура.Вставить("МаксимальнаяДата", '39991231235959'); // Нет ошибки

// Конструктор структуры - нет ошибки
Структура2 = Новый Структура("ДатаНачала, ДатаОкончания", '20250101', '20251231'); // Нет ошибки

// Прямое присваивание свойству структуры - нет ошибки
СтруктураСПолями = Новый Структура("ДатаНачала, ДатаОкончания");
СтруктураСПолями.ДатаНачала = '20250101'; // Нет ошибки
СтруктураСПолями.ДатаОкончания = '20251231'; // Нет ошибки

// Фиксированная структура - нет ошибки
ФиксированнаяСтруктура = Новый ФиксированнаяСтруктура("Значение", '20240101'); // Нет ошибки

// Соответствие - нет ошибки (как ключ, так и значение)
Соответствие = Новый Соответствие;
Соответствие.Вставить("Код", '20230101'); // Нет ошибки
Соответствие.Вставить('19800101', "Олимпиада в Москве"); // Нет ошибки
```
