# Границы метаданных (MetadataBorders)

|      Тип      |    Поддерживаются<br>языки    |     Важность     |    Включена<br>по умолчанию    |    Время на<br>исправление (мин)    |   Теги   |
|:-------------:|:-----------------------------:|:----------------:|:------------------------------:|:-----------------------------------:|:--------:|
| `Дефект кода` |         `BSL`<br>`OS`         | `Информационный` |             `Нет`              |                 `1`                 | `design` |

## Параметры


|             Имя             |   Тип    |                                                   Описание                                                   |    Значение<br>по умолчанию    |
|:---------------------------:|:--------:|:------------------------------------------------------------------------------------------------------------:|:------------------------------:|
| `metadataBordersParameters` | `Строка` | `JSON-структура для пар "регулярное выражение для операторов":"регулярное выражение для имени файла модуля"` |               ``               |
<!-- Блоки выше заполняются автоматически, не трогать -->
## Описание диагностики
Диагностика обращения к метаданным за пределами разрешенных границ. Нужна, если, например, в компании установлены правила обращения к каким-то метаданным только из определенного общего модуля.

## Примеры
Например, получение контактной информации по внутренним правилам должно происходить только через функции общего модуля РаботаСКонтактами. Тогда заданные настройки вида

```{"Регистры?Сведений.КонтактнаяИнформация":"CommonModules/РаботаСКонтактами"}```

вызовут срабатывание диагностики на запросе с текстом

```
"ВЫБРАТЬ
    ...
ИЗ
    РегистрСведений.КонтактнаяИнформация КАК КИ"
```

если этот запрос будет не в общем модуле РаботаСКонтактами. Так же эта диагностика с такой настройкой сработает и на оператор

```НаборЗаписей = РегистрыСведений.ИспользованиеКонтактов.СоздатьНаборЗаписей();```

В настройках обе части - это регулярные выражения java. Вторая часть настройки сравнивается с путем к файлу выгрузки конфигурации.

Можно запретить использование нескольких метаданных:

```{"Регистры?Сведений.КонтактнаяИнформация|Справочники?.Контакты":"CommonModules/РаботаСКонтактами"}```

Настройки задаются в виде json-строки:
```
{ 
   "Регистры?Сведений.КонтактнаяИнформация":"CommonModules/РаботаСКонтактами",
   "Справочники?.СтрокиСоединения":"DataProcessors/ВнешниеСоединения|CommonModules/ПодключениеК.*"
}
```

## Источники

## Сниппеты

<!-- Блоки ниже заполняются автоматически, не трогать -->
### Экранирование кода

```bsl
// BSLLS:MetadataBorders-off
// BSLLS:MetadataBorders-on
```

### Параметр конфигурационного файла

```json
"MetadataBorders": {
    "metadataBordersParameters": ""
}
```
