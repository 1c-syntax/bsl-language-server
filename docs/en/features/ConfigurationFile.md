# BSL Language Server Configuration

BSL Language Server предоставляет возможность изменения настроек, заложенных разработчиками, с помощью конфигурационного файла в формате json.
 Созданный файл необходимо указать с помощью ключа `--configuration` *(или кратко `-c`)* при запуске BSL Language Server в качестве консольного приложения либо, если же используется редактор/IDE с плагином-клиентом BSL Language Server, разместить его в соответствии с документацией *(обычно это корень проекта либо рабочей области)*.

## Описание настроек

Наименование | Тип | Описание
:-- | :-: | :--
`diagnosticLanguage` | `Строка` | Этот параметр устанавливает язык отображения диагностированных замечаний. На данный момент поддерживаются два языка:<br>* `ru` - для русского языка (*используется по умолчанию*)<br>* `en` - для английского языка
`showCognitiveComplexityCodeLens` | `Булево` | В продвинутых редакторах кода/IDE *(например [Visual Studio Code](https://code.visualstudio.com/))*, этим параметром включается отображение значения [когнитивной сложности](../diagnostics/CognitiveComplexity.md) метода над его определением. По умолчанию параметр включен (*установлен в `true`*)
`showCyclomaticComplexityCodeLens` | `Булево` | По аналогии с `showCognitiveComplexityCodeLens`, этот параметр включает отображение значения [цикломатической сложности](../diagnostics/CyclomaticComplexity.md) метода. По умолчанию параметр включен (*установлен в `true`*)
`computeDiagnosticsTrigger` | `Строка` | С помощью этого параметра можно указать событие, при котором будет вызвана процедура анализа кода для диагностирования замечаний. Возможные значения:<br>* `onType` - при редактировании файла (онлайн) ***на больших файлах может ЗНАЧИТЕЛЬНО замедлять редактирование***<br>* `onSave` - при сохранении файла (*используется по умолчанию*)<br>* `never` - анализ выполняться не будет
`computeDiagnosticsSkipSupport` | `Строка` | Этим параметром настраивается режим пропуска файлов *(т.е. файлы не анализируются на предмет наличия замечаний)* **конфигурации 1С**, находящихся "на поддержке" конфигурации поставщика. Возможные значения:<br>* `withSupport` - пропускаются все модули, находящиеся "на поддержке" *(все виды "замков")*<br>* `withSupportLocked` - пропускаются только модули, находящиеся "на поддержке" с запретом изменений *("желтый закрытый замок")*<br>* `never` - режим поддержки не анализируется и модули не пропускаются *(установлен по умолчанию)*
`traceLog` | `Строка` | Для логирования всех запросов *(входящих и исходящих)* между **BSL Language Server** и **Language Client** из используемого редактора/IDE, в этом параметре можно указать путь к файлу лога. Путь можно указывать как абсолютный, так и относительный *(от корня анализируемого проекта)*, по умолчанию значение не заполнено.<br><br>**ВНИМАНИЕ**<br><br>* При запуске **BSL Language Server** перезаписывает указанный файл<br>* Скорость взаимодействия между клиентом и сервером **ЗНАЧИТЕЛЬНО ЗАМЕДЛЯЕТСЯ**
`diagnostics` | `JSON-Объект` | Параметр представляет собой коллекцию настроек диагностик. Элементами коллекции являются json-объекты следующей структуры:<br>* *ключ объекта* - строка, являющаяся ключом диагностики<br>* *значение объекта* - может принимать либо булево значение, и тогда интерпретируется как отключение диагностики (`false`) или ее включение с параметрами по умолчанию (`true`), либо значение типа `json-объект`, представляющего собой набор настроек диагностики.<br><br>Ключ, включена ли по умолчанию, а также описание возможных параметров и примеры для конфигурационного файла представлены на странице с описанием каждой диагностики.

Для облегчения составления и редактирования конфигурационного файла можно использовать следующую JSON-схему:

```
https://1c-syntax.github.io/bsl-language-server/configuration/schema.json
```

## Пример

Ниже приведен пример настройки:

- Устанавливает язык сообщений диагностик - английский;
- Изменяет настройку диагностики [LineLength - Ограничение на длину строки](../diagnostics/LineLength.md), устанавливая предел длины строки в 140 символов;
- Отключает диагностику [MethodSize - Ограничение на размер метода](../diagnostics/MethodSize.md).

```json
{
  "$schema": "https://1c-syntax.github.io/bsl-language-server/configuration/schema.json",
  "diagnosticLanguage": "en",
  "diagnostics": {
    "LineLength": {
      "maxLineLength": 140
    },
    "MethodSize": false
  }
}
```
