# BSL Language Server Configuration

BSL Language Server provides the ability to change the settings using a configuration file in json format.  
The created file must be specified using the key `--configuration` *(or `-c`)* when running BSL Language Server as a console application. If you use the editor / IDE with the BSL Language Server client plugin, place it in accordance with the documentation *(this is usually the root of a project or workspace)*.

## Settings

| Name                                           |     Type      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:---------------------------------------------- |:-------------:|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `language`                                     |   `String`    | Set the language for displaying diagnosed comments. Supported languages:<br/>* `ru` - for Russian (*default*)<br/>* `en` - for English                                                                                                                                                                                                                                                                                                                                                                                                  |
| `codeLens`                                     | `JSON-Object` | Contains the settings for displaying `lens` in advanced code editors/IDEs *(for example, [Visual Studio Code](https://code.visualstudio.com/))*, which displays various information above a block of code. Object properties                                                                                                                                                                                                                                                                                                                        |
| ⤷&nbsp;&nbsp;&nbsp;`showCognitiveComplexity`   |   `Boolean`   | Enables displaying the value of the [cyclomatic complexity](../diagnostics/CognitiveComplexity.md) of the method over its definition. By default enabled (*is set to `true`*)                                                                                                                                                                                                                                                                                                                                                                       |
| ⤷&nbsp;&nbsp;&nbsp;`showCyclomaticComplexity`  |   `Boolean`   | Enables displaying the value of the [cognitive complexity](../diagnostics/CyclomaticComplexity.md) of the method over its definition. By default is enabled (*is set to `true`*)                                                                                                                                                                                                                                                                                                                                                                    |
| `diagnostics`                                  | `JSON-Object` | Contains diagnostic settings                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ⤷&nbsp;&nbsp;&nbsp;`computeTrigger`            |   `String`    | Event that will trigger the code analysis procedure to diagnose comments. Possible values:<br/>* `onType` -when editing a file (online) ***on large files can significantly slow down editing ***<br/>* `onSave` - when saving a file (*default*)<br/> `never` - analysis will not be performed                                                                                                                                                                                                                                   |
| ⤷&nbsp;&nbsp;&nbsp;`ordinaryAppSupport`        | `Boolean>` | Ordinary client support. Diagnostics will require taking into account the features of a ordinary application. Values:<br/>* `true` - the configuration uses ordinary application *(default)* <br/>* `false` - ignore ordinary application warnings                                                                                                                                                                                                                                                                                      |
| ⤷&nbsp;&nbsp;&nbsp;`skipSupport`               |   `String`    | This parameter sets **1C configuration** file skipping mode *(for example files are not analyzed for issues)* which are "on support" from vendor configuration. Possible values:<br/>* `withSupport` - skip all modules set "on support" *(all "locks" types)*<br/>* `withSupportLocked` - skip modules set "on support" with prohibited modification *("yellow closed lock")*<br/>* `never` - skip no modules as support mode is not analyzed *(set by default)*                                                                 |
| ⤷&nbsp;&nbsp;&nbsp;`mode`                      |   `String`    | Setting for controlling the diagnostic settings accounting mode. Possible options: <br/>* `OFF` - All diagnostics are considered to be turned off, regardless of their settings. <br/>* `ON` - All diagnostics enabled by default are considered enabled, the rest - depending on personal settings <br/>* `EXCEPT` - All diagnostics other than those specified are considered enabled. <br/>* `ONLY` - Only the specified diagnostics are considered enabled. <br/>* `ALL` - All diagnostics are considered enabled |
| ⤷&nbsp;&nbsp;&nbsp;`parameters`                | `JSON-Object` | Parameter is a collection of diagnostics parameters. Collection items are json-objects with the following structure:<br/>* *object key* - string, is diagnostic key<br/>* *object value* - if is boolean, then interpreted as diagnostic off-switch (`false`) or on-switch with default parameters (`true`), if is type `json-object`, collection of diagnostic parameters.<br/><br/>Key, if set to ON by default and all allowed parameters and examples are given on the diagnostic page.                                 |
| `documentLink`                                 | `JSON-Object` | Contains documentation link settings                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ⤷&nbsp;&nbsp;&nbsp;`showDiagnosticDescription` |   `Boolean`   | Показывать дополнительные ссылки на документацию по диагностикам. By default, the parameter is off (*set to `false`*)                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `useDevSite`                                   |   `Булево`    | При включении настройки формирующиеся ссылки на документацию будут вести на develop-версию сайта. По умолчанию параметр выключен (*установлен в `false`*)                                                                                                                                                                                                                                                                                                                                                                                           |
| `siteRoot`                                     |   `String`    | Путь к корню сайта с документацией. По умолчанию параметр имеет значение `"https://1c-syntax.github.io/bsl-language-server"`                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `traceLog`                                     |   `String`    | Для логирования всех запросов *(входящих и исходящих)* между **BSL Language Server** и **Language Client** из используемого редактора/IDE, в этом параметре можно указать путь к файлу лога. Путь можно указывать как абсолютный, так и относительный *(от корня анализируемого проекта)*, по умолчанию значение не заполнено.<br/><br/>**ВНИМАНИЕ**<br/><br/>* При запуске **BSL Language Server** перезаписывает указанный файл<br/>* Скорость взаимодействия между клиентом и сервером **ЗНАЧИТЕЛЬНО ЗАМЕДЛЯЕТСЯ** |
| `configurationRoot`                            |   `Строка`    | Данный параметр предназначен для указания корневого каталога, в котором находятся файлы конфигурации 1С в каталоге проекта. Может быть полезен в случае нахождения нескольких каталогов конфигураций в одном каталоге проекта либо при сложной структуре каталога проекта. По умолчанию параметр не заполнен и `BSL Language Server` самостоятельно определяет расположение корневого каталога конфигурации                                                                                                                                         |

You can use the following JSON schema to make it easier to compile and edit a configuration file:

log https://1c-syntax.github.io/bsl-language-server/configuration/schema.json
```

## Example

Settings:

* Sets the language of diagnostic messages - English;
* Changes the diagnostic setting [LineLength - Line length limit] (../diagnostics/LineLength.md), setting the line length limit to 140 characters;
* Disables diagnostics [MethodSize - Method size limit] (../diagnostics/MethodSize.md).
* Includes online diagnostics calculation (`computeTrigger = onType`)

```json
{
  "$schema": "https://1c-syntax.github.io/bsl-language-server/configuration/schema.json",
  "language": "en",
  "diagnostics": {
    "computeTrigger": "onType",
    "parameters": {
      "LineLength": {
        "maxLineLength": 140
      },
      "MethodSize": false
    }
  }
}
```
