# Execution query on cycle (CreateQueryInCycle)

Type | Scope | Severity | Activated<br>by default | Minutes<br>to fix | Tags
--- | --- | --- | --- | --- | ---
`Error` | `BSL`<br>`OS` | `Critical` | `Yes` | `20` | `performance`

<!-- Блоки выше заполняются автоматически, не трогать -->

## Description

Execution query in cycle

## Examples

Bad

```Bsl

СписокДокументов = Новый Массив;
СуммаДокументов = 0;
Для индекс = 0 По СписокДокументов.ВГраница() Цикл
	Запрос = Новый Запрос;
	Запрос.Текст =
		"ВЫБРАТЬ
		|	ПоступлениеТоваровУслуг.СуммаДокумента
		|ИЗ
		|	Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг
		|ГДЕ
		|	ПоступлениеТоваровУслуг.Ссылка = &Ссылка";
	
	Запрос.УстановитьПараметр("Ссылка", СписокДокументов[индекс]);
	
	РезультатЗапроса = Запрос.Выполнить();

	ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();

	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		СуммаДокументов = СуммаДокументов + ВыборкаДетальныеЗаписи.СуммаДокумента;
	КонецЦикла;
КонецЦикла;


```

Good

```Bsl
СписокДокументов = Новый Массив;
СуммаДокументов = 0;

Запрос = Новый Запрос;
Запрос.Текст =
	"ВЫБРАТЬ
	|	СУММА(ПоступлениеТоваровУслуг.СуммаДокумента) КАК СуммаДокумента
	|ИЗ
	|	Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг
	|ГДЕ
	|	ПоступлениеТоваровУслуг.Ссылка В(&СписокДокументов)";

Запрос.УстановитьПараметр("Ссылка", СписокДокументов);

РезультатЗапроса = Запрос.Выполнить();

ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();

Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
	СуммаДокументов = ВыборкаДетальныеЗаписи.СуммаДокумента;
КонецЦикла;

```

## Snippets

<!-- Блоки ниже заполняются автоматически, не трогать -->

### Diagnostic ignorance in code

```bsl
// BSLLS:CreateQueryInCycle-off
// BSLLS:CreateQueryInCycle-on
```

### Parameter for config

```json
"CreateQueryInCycle": false
```
