



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en, ru">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>BSL Language Server Dev</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#bsl-language-server" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="BSL Language Server Dev" class="md-header-nav__button md-logo">
          
            <img src="assets/images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              BSL Language Server Dev
            </span>
            <span class="md-header-nav__topic">
              
                Home
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/1c-syntax/bsl-language-server/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    1c-syntax/bsl-language-server
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="." title="BSL Language Server Dev" class="md-nav__button md-logo">
      
        <img src="assets/images/logo.png" width="48" height="48">
      
    </a>
    BSL Language Server Dev
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/1c-syntax/bsl-language-server/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    1c-syntax/bsl-language-server
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#capabilities" class="md-nav__link">
    Capabilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-from-command-line" class="md-nav__link">
    Run from command line
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-in-analyzer-mode" class="md-nav__link">
    Run in analyzer mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-in-formatter-mode" class="md-nav__link">
    Run in formatter mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-file" class="md-nav__link">
    Configuration file
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="reporters/" title="Reporters" class="md-nav__link">
      Reporters
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="diagnostics/" title="Diagnostics" class="md-nav__link">
      Diagnostics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://1c-syntax.github.io/bsl-language-server" title="Russian" class="md-nav__link">
      Russian
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#capabilities" class="md-nav__link">
    Capabilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-from-command-line" class="md-nav__link">
    Run from command line
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-in-analyzer-mode" class="md-nav__link">
    Run in analyzer mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-in-formatter-mode" class="md-nav__link">
    Run in formatter mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-file" class="md-nav__link">
    Configuration file
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/1c-syntax/bsl-language-server/edit/develop/docs/en/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="bsl-language-server">BSL Language Server</h1>
<p><a href="https://travis-ci.org/1c-syntax/bsl-language-server"><img alt="Build Status" src="https://travis-ci.org/1c-syntax/bsl-language-server.svg?branch=master" /></a>
<a href="https://github.com/1c-syntax/bsl-language-server/releases/latest"><img alt="Download" src="https://img.shields.io/github/release/1c-syntax/bsl-language-server.svg?label=download&amp;style=flat-square" /></a>
<a href="https://jitpack.io/#1c-syntax/bsl-language-server"><img alt="JitPack" src="https://jitpack.io/v/1c-syntax/bsl-language-server.svg" /></a>
<a href="https://sonarcloud.io/dashboard?id=1c-syntax_bsl-language-server"><img alt="Quality Gate" src="https://sonarcloud.io/api/project_badges/measure?project=1c-syntax_bsl-language-server&amp;metric=alert_status" /></a>
<a href="https://sonarcloud.io/dashboard?id=1c-syntax_bsl-language-server"><img alt="Maintainability" src="https://sonarcloud.io/api/project_badges/measure?project=1c-syntax_bsl-language-server&amp;metric=sqale_rating" /></a>
<a href="https://sonarcloud.io/dashboard?id=1c-syntax_bsl-language-server"><img alt="Coverage" src="https://sonarcloud.io/api/project_badges/measure?project=1c-syntax_bsl-language-server&amp;metric=coverage" /></a></p>
<p><a href="https://microsoft.github.io/language-server-protocol/">Language Server Protocol</a> implementation for 1C (BSL) - 1C:Enterprise 8 and <a href="http://oscript.io">OneScript</a> languages.</p>
<ul>
<li><a href="contributing/">Contributing guidelines</a></li>
<li><a href="#capabilities">Capabilities</a></li>
<li><a href="#cli">Run from command line</a></li>
<li><a href="#analyze">Run in analyzer mode</a></li>
<li><a href="#format">Run in formatter mode</a></li>
<li><a href="#configuration">Configuration file</a></li>
<li><a href="reporters">Reporters</a></li>
<li><a href="diagnostics">Diagnostics</a></li>
</ul>
<p><a id="capabilities"></a></p>
<h2 id="capabilities">Capabilities</h2>
<ul>
<li>File formatting</li>
<li>Selected region formatting</li>
<li>Symbol definition for current file (regions, procedures, functions, variables, defined via <code>Var</code> keyword)</li>
<li>Folding regions definition <code>#Region</code>, <code>#If</code>, procedures and functions, code blocks</li>
<li>Methods "Cognitive Complexity" score</li>
<li>Diagnostics</li>
<li>Quick fixes for several diagnostics</li>
<li>Run diagnostics engine from command line</li>
<li>Run formatter engine from command line</li>
</ul>
<p><a id="cli"></a></p>
<h2 id="run-from-command-line">Run from command line</h2>
<p>jar-files run through <code>java -jar path/to/file.jar</code>.</p>
<div class="codehilite"><pre><span></span>java -jar bsl-language-server.jar --help

usage: BSL language server <span class="o">[</span>-a<span class="o">]</span> <span class="o">[</span>-c &lt;arg&gt;<span class="o">]</span> <span class="o">[</span>-f<span class="o">]</span> <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-o &lt;arg&gt;<span class="o">]</span> <span class="o">[</span>-r &lt;arg&gt;<span class="o">]</span> <span class="o">[</span>-s &lt;arg&gt;<span class="o">]</span>
 -a,--analyze               Run analysis and get diagnostic info
 -c,--configuration &lt;arg&gt;   Path to language server configuration file
 -f,--format                Format files in <span class="nb">source</span> directory
 -h,--help                  Show help.
 -o,--outputDir &lt;arg&gt;       Output report directory
 -r,--reporter &lt;arg&gt;        Reporter key
 -s,--srcDir &lt;arg&gt;          Source directory
 -v,--version               Version
</pre></div>


<p>Starting BSL Language Server in standard mode will run the Language Server communicating via <a href="[language server protocol](https://microsoft.github.io/language-server-protocol/)">LSP</a>. stdin and stdout are used for communication.</p>
<p>By default diagnostics texts are displayed in Russian. To switch the diagnostics text language you need to set parameter <code>diagnosticLanguage</code> in configuration file or raise an event <code>workspace/didChangeConfiguration</code>:</p>
<p><a id="analyze"></a></p>
<h2 id="run-in-analyzer-mode">Run in analyzer mode</h2>
<p>To run in analyzer mode use parameter <code>--analyze</code> (short <code>-a</code>). To set source code folder for analysis use parameter
<code>--srcDir</code> (short <code>-s</code>) followed by the path (relative or absolute) to the source code folder.</p>
<p>To generate an analysis report you need to specify one or more reporters. To specify reporter use parameter <code>--reporter</code> or <code>-r</code>, followed by reporter key. You may specify several reporters. The list of reporters see in section  <strong>Reporters</strong>.</p>
<p>Command line example to run analysis:</p>
<div class="codehilite"><pre><span></span>java -jar bsl-language-server.jar --analyze --srcDir ./src/cf --reporter json
</pre></div>


<blockquote>
<p>When run analysis for large code base it is recommended to set parameter {code0}-Xmx{/code0} to set maximum limit of  memory being allocated to java process. The size of allocated memory depends on the size of code base for analysis.</p>
</blockquote>
<div class="codehilite"><pre><span></span>java -Xmx4g -jar bsl-language-server.jar ... other parameters
</pre></div>


<p><a id="format"></a></p>
<h2 id="run-in-formatter-mode">Run in formatter mode</h2>
<p>To run in formatter mode use parameter <code>--format</code> (short <code>-f</code>). To set source code folder for formatting use parameter <code>--srcDir</code> (short <code>-s</code>) followed by the path (relative or absolute) to the source code folder.</p>
<p>Command line example to run formatting:</p>
<div class="codehilite"><pre><span></span>java -jar bsl-language-server.jar --format --srcDir ./src/cf
</pre></div>


<p><a id="configuration"></a></p>
<h2 id="configuration-file">Configuration file</h2>
<p>Configuration file is a file in JSON format. The file can contain the following blocks:</p>
<ul>
<li><code>diagnosticLanguage</code> - <code>String</code> - diagnostics text language. Valid values: <code>en</code> or <code>ru</code>. By default set to <code>ru</code>.</li>
<li><code>showCognitiveComplexityCodeLens</code> - <code>Boolean</code> - show cognitive complexity score above method definition (codeLens). By default set to <code>true</code>.</li>
<li><code>computeDiagnostics</code> - <code>String</code> - trigger for the computation of diagnostics. Valid values: <code>onType</code> (on file edit), <code>onSave</code> (on file save), <code>never</code>. By default set to <code>onSave</code>.</li>
<li><code>traceLog</code> - <code>String</code> - path to file to log all inbound and outbound requests between BSL Language Server and Language Client from used IDE. Can be absolute or relative (to the project root). If set <strong> significantly slows down</strong> communication speed between server and client. Dy default - not set.</li>
<li><code>diagnostics</code> - <code>Object</code> - diagnostics settings collection. Collection items are objects with the structure as following:<ul>
<li>object key - <code>String</code> - diagnostics key, as given in section <a href="#diagnostics">Diagnostics</a>.</li>
<li>object value<ul>
<li><code>Boolean</code> - <code>false</code> to disable diagnostics, <code>true</code> - to enable diagnostics without additional settings. By default set to <code>true</code>.</li>
<li><code>Object</code> - Structure of settings for each diagnostics. Available parameters are give in each diagnostics section.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>You may use this JSON-schema to simplify file editing:</p>
<div class="codehilite"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="p">.</span><span class="n">githubusercontent</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="mi">1</span><span class="k">c</span><span class="o">-</span><span class="n">syntax</span><span class="o">/</span><span class="n">bsl</span><span class="o">-</span><span class="k">language</span><span class="o">-</span><span class="n">server</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">resources</span><span class="o">/</span><span class="n">com</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">_1c_syntax</span><span class="o">/</span><span class="n">bsl</span><span class="o">/</span><span class="n">languageserver</span><span class="o">/</span><span class="n">configuration</span><span class="o">/</span><span class="k">schema</span><span class="p">.</span><span class="n">json</span>
</pre></div>


<p>Configuration file example, setting:</p>
<ul>
<li>diagnostics text language - Russian;</li>
<li><a href="diagnostics/LineLength/">LineLength - Line length limit</a> diagnostics settings - max line length set to 140 characters;</li>
<li><a href="diagnostics/MethodSize/">MethodSize - Method size limit</a> diagnostics settings - disabled;</li>
</ul>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;$schema&quot;</span><span class="p">:</span> <span class="s2">&quot;https://raw.githubusercontent.com/1c-syntax/bsl-language-server/master/src/main/resources/com/github/_1c_syntax/bsl/languageserver/configuration/schema.json&quot;</span><span class="p">,</span>
  <span class="nt">&quot;diagnosticLanguage&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
  <span class="nt">&quot;diagnostics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;LineLength&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;maxLineLength&quot;</span><span class="p">:</span> <span class="mi">140</span>
    <span class="p">},</span>
    <span class="nt">&quot;MethodSize&quot;</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="contributing/" title="Contributing" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Contributing
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="assets/fonts/font-awesome.css">
    
      <a href="https://github.com/1c-syntax" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://t.me/bsl_language_server" class="md-footer-social__link fa fa-telegram"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.ac79c3b0.js"></script>
      
        
        
          
          <script src="assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
          
            
              
              
                <script src="assets/javascripts/lunr/lunr.ru.js"></script>
              
            
          
          
            <script src="assets/javascripts/lunr/lunr.multi.js"></script>
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
  </body>
</html>