// Тест для проверки работы с модульными переменными

Перем МодульУровняМодуля; // Модульная переменная

Процедура ПерваяПроцедура()
    
    // Устанавливаем модульную переменную в первой процедуре
    МодульУровняМодуля = ОбщегоНазначения.ОбщийМодуль("ПервыйОбщийМодуль");
    МодульУровняМодуля.НеУстаревшаяПроцедура(); // Должно индексироваться
    
КонецПроцедуры

Процедура ВтораяПроцедура()
    
    // Используем ту же модульную переменную во второй процедуре
    // Mapping должен сохраниться из первой процедуры
    МодульУровняМодуля.НеУстаревшаяФункция(); // Должно индексироваться
    
КонецПроцедуры

Процедура ТретьяПроцедура()
    
    // Локальная переменная с тем же именем что и в другой процедуре
    Локальная = ОбщегоНазначения.ОбщийМодуль("ПервыйОбщийМодуль");
    Локальная.НеУстаревшаяПроцедура(); // Должно индексироваться
    
КонецПроцедуры

Процедура ЧетвертаяПроцедура()
    
    // Локальная переменная с тем же именем - не должна иметь mapping из третьей процедуры
    Локальная = Неопределено;
    
    // Этот вызов НЕ должен индексироваться
    Попытка
        Локальная.НеУстаревшаяПроцедура();
    Исключение
    КонецПопытки;
    
КонецПроцедуры
